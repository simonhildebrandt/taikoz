<!-- Scaffolding generated by Casein v5.1.1.5 -->

<table class="table table-striped table-hover table-condensed">
	<thead>
		<tr>
			<th>Image</th>
			<th><%= casein_sort_link "Name", :name %></th>
			<th><%= casein_sort_link "First Session", :start_date %></th>
			<th><%= casein_sort_link "Last Session", :end_date %></th>
			<th>Sessions</th>
			<th><%= casein_sort_link "Details", :details %></th>
			<th><%= casein_sort_link "State", :state %></th>
			<th><%= casein_sort_link "Status", :event_status %></th>
			<th>&nbsp;</th>
		</tr>
	</thead>

	<% events.each do |event| %>
		<tr>
			<td><%= cl_image_tag(event.image, width: 70) %></td>
			<td><strong><%= casein_table_cell_link event.name, casein_event_path(event) %></strong></td>
			<td><%= casein_table_cell_link event.start_date.strftime("%A"" ""%d"" ""%B"" ""%Y"), casein_event_path(event) if event.start_date.present? %></td>
			<td><%= casein_table_cell_link event.end_date.strftime("%A"" ""%d"" ""%B"" ""%Y"), casein_event_path(event) if event.end_date.present? %></td>
			<td><%= casein_table_cell_link event.sessions.count, casein_event_path(event) %></td>
			<td><%= casein_table_cell_link truncate(event.details, length: 240, separator: ' ', escape: false), casein_event_path(event) %></td>
			<% if event.current? %>
				<td><strong><%= casein_table_cell_link "Current", casein_event_path(event) %></strong></td>
			<% elsif event.past? %>
				<td><strong><%= casein_table_cell_link "Past", casein_event_path(event) %></strong></td>
			<% end %>
			<td>
				<%= link_to event.event_status, casein_event_path(event), class: "label label-warning" if event.event_status == "Draft" %>

				<%= casein_table_cell_link event.event_status, casein_event_path(event), class: "label label-success" if event.event_status == "Published" %>
			</td>

			<td class="delete">
				<%= link_to(casein_show_row_icon("trash"), casein_event_path(event), :method => :delete, :data => { :confirm => "Are you sure you want to delete this event?" }) %>
			</td>
		</tr>
	<% end %>
</table>
